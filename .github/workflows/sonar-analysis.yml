# .github/workflows/sonar-analysis.yml
name: SonarCloud Analysis
# ... (các phần on: và jobs: giữ nguyên)

jobs:
  build:
    name: Analyze on SonarCloud
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0 
          
      - name: SonarCloud Scan (Cập Nhật Cú Pháp)
        uses: SonarSource/sonarqube-scan-action@master # HOẶC @v5.0.0
        env:
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }} 
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} 
          
        with:
          # Sửa: Truyền các thuộc tính vào trường 'args'
          args: >
            -Dsonar.projectKey=your_sonarcloud_project_key
            -Dsonar.organization=your_sonarcloud_organization_id
            -Dsonar.host.url=https://sonarcloud.io 
            # Thêm các tham số khác nếu cần, ví dụ: ngôn ngữ, độ bao phủ...
          # Thay thế bằng ID dự án SonarCloud của bạn
          # Ví dụ: 'ten-to-chuc_ten-du-an'
          projectKey: "Twangggg_JoyLeeMarket"
          # Thay thế bằng ID tổ chức SonarCloud của bạn
          organization: "twangggg"
